<div fxLayout="row" fxFlexFill>
    <div fxLayout fxFlexOrder="1" ngClass.lt-lg="toolbar-div-lt-md">
        <mat-toolbar>
            <mat-toolbar-row>
                <a [routerLink]="['/mi-cuenta']">
                    <!-- [routerLink]="['/perfil']" -->
                    <mat-icon>insert_emoticon</mat-icon><span class="iconitos" fxHide.lt-lg="true">Mi Cuenta</span>
                </a>
            </mat-toolbar-row>

            <mat-toolbar-row>
                <a [routerLink]="['/mi-cuenta/notificaciones']">
                    <!-- [routerLink]="['/perfil']" -->
                    <mat-icon>notifications_active</mat-icon><span class="iconitos"
                        fxHide.lt-lg="true">Notificaciones</span>
                </a>
            </mat-toolbar-row>

            <mat-toolbar-row>
                <a [routerLink]="['/mi-cuenta/perfil']">
                    <!-- [routerLink]="['/perfil']" -->
                    <mat-icon>account_circle</mat-icon><span class="iconitos" fxHide.lt-lg="true">Mi Perfil</span>
                </a>
            </mat-toolbar-row>

            <mat-toolbar-row>
                <a [routerLink]="['/mi-cuenta/mis-publicaciones']">
                    <!-- [routerLink]="['/mis-publicaciones']" -->
                    <mat-icon>book</mat-icon><span class="iconitos" fxHide.lt-lg="true">Mis Publicaciones</span>
                </a>
            </mat-toolbar-row>

            <mat-toolbar-row>
                <a [routerLink]="['/mi-cuenta/mis-alquileres']">
                    <!-- [routerLink]="['mis-alquileres']"  -->
                    <mat-icon>assignment</mat-icon> <span class="iconitos" fxHide.lt-lg="true">Mis Alquileres</span>
                </a>
            </mat-toolbar-row>

            <mat-toolbar-row>
                <a fxFlexAlign.lt-lg="flex-end" (click)="cerrarSesion()">
                    <mat-icon>exit_to_app</mat-icon><span class="iconitos" fxHide.lt-lg="true">Salir</span>
                </a>
            </mat-toolbar-row>
        </mat-toolbar>

    </div>
    <div fxLayout="column" fxFlexOrder="2" ngClass.gt-md="container-gt-md" ngClass.lt-md="container-lt-md">

        <div fxLayout="column" style="width: 100%; text-align: center; margin-top: 40px" fxLayoutAlign="center center">
            <p style="font-size: 25px;margin-bottom: 8px; "> Mis Alquileres</p>
            <mat-divider fxFlexFill></mat-divider>
        </div>

        <mat-tab-group style="width: 100%;" (selectedTabChange)="cambioTab($event)">
            <mat-tab>
                <div fxHide.lt-lg="true">
                    <ng-template mat-tab-label>
                        <mat-icon class="iconitos">star</mat-icon>
                        De Mis Publicaciones
                    </ng-template>
                </div>
                <div class=" mat-elevation-z4 contenedor-gral">
                    <br>
                    <div fxLayout="column" fxFlexFill fxLayoutAlign="center center" *ngIf="!hayAlquileresPropietario">
                        <h2>No hay alquileres por mostrar</h2>
                    </div>
                    <div *ngIf="hayAlquileresPropietario">
                        <div class="contenedorAlquiler" *ngFor="let datos of arrayDatosPropietario; let indice = index">
                            <mat-list role="list">
                                <mat-list-item role="listitem">
                                    <div fxLayout="row" fxFlexFill>
                                        <div fxLayoutAlign="center" fxFlex="500">
                                            <img class="imagen"
                                                src="{{'http://localhost:4201/api/get-image-publicacion/'+ datos.imagen}}">
                                        </div>

                                        <div class="info" fxLayout="column" fxFlex="300" fxLayoutAlign="center">
                                            <p mat-line><b>Persona que alquilo: </b>{{datos.name_usuarioLocatario}}</p>
                                            <p mat-line><b>Fecha de generación: </b>{{datos.createdAt}}</p>
                                            <p mat-line><b> Cantidad de dias alquiler: </b>{{datos.cantidadDias}} </p>
                                            <p mat-line><b> Estado del Alquiler: </b>{{datos.estado}} </p>
                                            <p mat-line *ngIf="datos.fuePagado && !datos.codigoPropietarioIngresado"><b>
                                                    Código entrega propietario: </b>{{datos.codigoEntregaPropietario}}
                                            </p>
                                            <p mat-line
                                                *ngIf="datos.fuePagado && datos.codigoLocatarioIngresado">
                                                <b> Fecha de devolución:
                                                </b>{{datos.fechaCaducidadDevolucion}}
                                            </p>
                                        </div>
                                        <div class="info2" fxLayout="row" fxFlex="400" fxLayoutAlign="center center"
                                            fxLayoutGap="10px" *ngIf="!datos.fuePagado">
                                            <p><b>Esperando aceptación del pago</b></p>
                                        </div>
                                        <div class="info2" fxLayout="row" fxFlex="400" fxLayoutAlign="center center"
                                            fxLayoutGap="10px" *ngIf="datos.fuePagado">
                                            <button mat-raised-button color="primary"
                                                (click)="openDialogCodigoLocatario(datos)"
                                                *ngIf="datos.codigoPropietarioIngresado && !datos.codigoLocatarioIngresado">Ingresar
                                                código locatario</button>
                                            <button mat-raised-button (click)="openDialogDatosLocatario(datos)"
                                                color="primary">Datos del locatario</button>
                                            <button mat-raised-button color="warn">
                                                <mat-icon>delete</mat-icon>
                                            </button>
                                        </div>
                                    </div>
                                </mat-list-item>
                                <br>
                                <mat-divider></mat-divider>
                            </mat-list>
                        </div>
                    </div>
                </div>
            </mat-tab>

            <mat-tab>
                <div fxHide.lt-lg="true">
                    <ng-template mat-tab-label>
                        <mat-icon class="iconitos">star_border</mat-icon>
                        Propios
                    </ng-template>
                </div>
                <div class=" mat-elevation-z4 contenedor-gral">
                    <br>
                    <div fxLayout="column" fxFlexFill fxLayoutAlign="center center" *ngIf="!hayAlquileresPropios">
                        <h2>No hay alquileres por mostrar</h2>
                    </div>
                    <div *ngIf="hayAlquileresPropios">
                        <div class="contenedorAlquiler"
                            *ngFor="let alquilerPropio of arrayDatosPropios; let indice = index">
                            <mat-list role="list">
                                <mat-list-item role="listitem">
                                    <div fxLayout="row" fxFlexFill>
                                        <div fxLayoutAlign="center" fxFlex="500">
                                            <img class="imagen"
                                                src="{{'http://localhost:4201/api/get-image-publicacion/'+ alquilerPropio.imagen}}">
                                        </div>

                                        <div class="info" fxLayout="column" fxFlex="300" fxLayoutAlign="center">
                                            <p mat-line><b>Persona a quien alquilaste:
                                                </b>{{alquilerPropio.name_usuarioPropietario}}</p>
                                            <p mat-line><b>Fecha de generación: </b>{{alquilerPropio.createdAt}}</p>
                                            <p mat-line><b>Cantidad de dias alquiler:
                                                </b>{{alquilerPropio.cantidadDias}}
                                            </p>
                                            <p mat-line><b>Estado del Alquiler: </b>{{alquilerPropio.estado}} </p>
                                            <p mat-line
                                                *ngIf="alquilerPropio.fuePagado && !alquilerPropio.codigoLocatarioIngresado">
                                                <b> Código entrega
                                                    locatario:</b>{{alquilerPropio.codigoEntregaLocatario}}
                                            </p>
                                            <p mat-line
                                                *ngIf="alquilerPropio.fuePagado && alquilerPropio.codigoLocatarioIngresado">
                                                <b> Fecha de devolución:
                                                </b>{{alquilerPropio.fechaCaducidadDevolucion}}
                                            </p>
                                        </div>
                                        <div class="info2" fxLayout="row" fxFlex="400" fxLayoutAlign="center center"
                                            fxLayoutGap="10px">
                                            <button mat-raised-button (click)="pagar(alquilerPropio)" color="primary"
                                                *ngIf="!alquilerPropio.fuePagado">Continuar con el pago</button>
                                            <button mat-raised-button color="primary"
                                                (click)="openDialogCodigoPropietario(alquilerPropio)"
                                                *ngIf="alquilerPropio.fuePagado && !alquilerPropio.codigoPropietarioIngresado">Ingresar
                                                código
                                                propietario</button>
                                            <button mat-raised-button
                                                (click)="openDialogDatosPropietario(alquilerPropio)"
                                                color="primary">Datos del propietario</button>
                                            <button mat-raised-button color="warn">
                                                <mat-icon>delete</mat-icon>
                                            </button>
                                        </div>
                                    </div>
                                </mat-list-item>
                                <br>
                                <mat-divider></mat-divider>
                            </mat-list>
                        </div>
                    </div>
                </div>
            </mat-tab>
        </mat-tab-group>
    </div>
</div>