<form [formGroup]="mercadoPagoFormGroup">
    <section fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="20px">
        <div>
            <mat-form-field>
                <input matInput placeholder="Descripción del objeto" formControlName="description" name="description"
                    (ngModelChange)="description = $event">
            </mat-form-field>

            <mat-form-field>
                <span matPrefix>$</span>
                <input matInput #monto maxlength="6" placeholder="Monto a pagar" formControlName="transaction_amount"
                    name="transaction_amount" [(value)]="transaction_amount">
                <mat-hint align="start">{{monto.value.length}} / 6</mat-hint>
            </mat-form-field>

            <!--LO OCULTO PORQUE SOLO ME SIRVE DE REFERENCIA PARA SETPAYMENTMETHOD()-->
            <input type="hidden" id="transaction_amount_hidden" [(value)]="transaction_amount" />

            <mat-form-field>
                <input matInput placeholder="Número de tarjeta" formControlName="cardNumber" name="cardNumber"
                    (ngModelChange)="cardNumber = $event" required (keyup)="guessPaymentMethod($event)"
                    onselectstart="return false" data-checkout="cardNumber" onpaste="return false" onCopy="return false"
                    onCut="return false" onDrag="return false" onDrop="return false" autocomplete=off>
            </mat-form-field>

            <mat-form-field>
                <input matInput placeholder="Nombre y apellido" formControlName="cardholderName" name="cardholderName"
                    (ngModelChange)="cardholderName = $event" required>
            </mat-form-field>

            <mat-form-field>
                <input matInput placeholder="Mes de vencimiento" formControlName="cardExpirationMonth"
                    name="cardExpirationMonth" (ngModelChange)="cardExpirationMonth = $event" required
                    data-checkout="cardExpirationMonth" onselectstart="return false" onpaste="return false"
                    onCopy="return false" onCut="return false" onDrag="return false" onDrop="return false"
                    autocomplete=off>
            </mat-form-field>

            <mat-form-field>
                <input matInput placeholder="Año de vencimiento" formControlName="cardExpirationYear"
                    name="cardExpirationYear" (ngModelChange)="cardExpirationYear = $event" required
                    data-checkout="cardExpirationYear" onselectstart="return false" onpaste="return false"
                    onCopy="return false" onCut="return false" onDrag="return false" onDrop="return false"
                    autocomplete=off>
            </mat-form-field>

        </div>

        <div>
            <mat-form-field>
                <input matInput placeholder="Código de seguridad" formControlName="securityCode" name="securityCode"
                    (ngModelChange)="securityCode = $event" required data-checkout="securityCode"
                    onselectstart="return false" onpaste="return false" onCopy="return false" onCut="return false"
                    onDrag="return false" onDrop="return false" autocomplete=off>
            </mat-form-field>

            <!--LO OCULTO PORQUE SOLO ME SIRVE DE REFERENCIA PARA SETPAYMENTMETHOD()-->
            <select hidden id="installments_hidden"></select>

            <mat-form-field *ngIf="hayCuotas">
                <!--*ngIf="hayCuotas"-->
                <mat-label>Cuotas</mat-label>
                <mat-select required formControlName="installments" name="installments">
                    <mat-option *ngFor="let cuota of cuotas" [value]="cuota"> {{cuota}} </mat-option>
                </mat-select>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Tipo de documento</mat-label>
                <mat-select required formControlName="docType" name="docType">
                    <mat-option *ngFor="let tipo of tiposDni" [value]="tipo"> {{tipo}} </mat-option>
                </mat-select>
            </mat-form-field>

            <mat-form-field>
                <input matInput placeholder="Número de documento" formControlName="docNumber" name="docNumber"
                    (ngModelChange)="docNumber = $event" required>
            </mat-form-field>

            <mat-form-field>
                <input matInput placeholder="Email" formControlName="email" name="email"
                    (ngModelChange)="email = $event" required>
            </mat-form-field>
        </div>
    </section>
    <input type="hidden" name="payment_method_id" id="payment_method_id" />
    <div style="text-align: center;">
        <button mat-raised-button color="primary" (click)="onSubmit()">Pagar</button>
    </div>
</form>